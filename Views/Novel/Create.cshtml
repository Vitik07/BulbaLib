@model BulbaLib.Models.NovelCreateModel
@{
    ViewData["Title"] = "Добавить новеллу";
}
@* It's good practice to put Layout assignment in _ViewStart.cshtml or specify it here if not using a global layout *@
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<h2>@ViewData["Title"]</h2>

<form asp-action="Create" method="post">
    @Html.AntiForgeryToken()
    <div asp-validation-summary="ModelOnly" class="text-danger"></div>

    <div class="form-group mb-3">
        <label asp-for="Title" class="control-label"></label>
        <input asp-for="Title" class="form-control" />
        <span asp-validation-for="Title" class="text-danger"></span>
    </div>

    <div class="form-group mb-3">
        <label asp-for="Description" class="control-label"></label>
        <textarea asp-for="Description" class="form-control" rows="5"></textarea>
        <span asp-validation-for="Description" class="text-danger"></span>
    </div>

    <div class="form-group mb-3">
        <label asp-for="Covers" class="control-label">Обложки (JSON массив URL)</label>
        <input asp-for="Covers" class="form-control" value="[]" />
        <span asp-validation-for="Covers" class="text-danger"></span>
        <small class="form-text text-muted">Пример: ["/uploads/default.jpg"]</small>
    </div>

    <div class="form-group mb-3">
        <label asp-for="Genres" class="control-label"></label>
        <input asp-for="Genres" class="form-control" />
        <span asp-validation-for="Genres" class="text-danger"></span>
        <small class="form-text text-muted">Жанры через запятую, например: Экшен, Приключения</small>
    </div>

    <div class="form-group mb-3">
        <label asp-for="Tags" class="control-label"></label>
        <input asp-for="Tags" class="form-control" />
        <span asp-validation-for="Tags" class="text-danger"></span>
        <small class="form-text text-muted">Теги через запятую, например: ГГ мужчина, Культивация</small>
    </div>

    <div class="form-group mb-3">
        <label asp-for="Type" class="control-label"></label>
        <select asp-for="Type" class="form-control">
            <option value="">-- Выберите тип --</option>
            <option value="Маньхуа">Маньхуа</option>
            <option value="Манхва">Манхва</option>
            <option value="Веб-комикс">Веб-комикс</option>
            <option value="Комикс">Комикс</option>
            <option value="Ранобэ">Ранобэ</option>
            <option value="Новелла">Новелла</option>
        </select>
        <span asp-validation-for="Type" class="text-danger"></span>
    </div>

    <div class="form-group mb-3">
        <label asp-for="Format" class="control-label"></label>
        <select asp-for="Format" class="form-control">
            <option value="">-- Выберите формат --</option>
            <option value="4-кома">4-кома</option>
            <option value="Дальней Восток">Дальней Восток</option>
            <option value="Цветной">Цветной</option>
            <option value="Вебтун">Вебтун</option>
            <option value="Додзинси">Додзинси</option>
            <option value="Индонезийский">Индонезийский</option>
            <option value="Западный">Западный</option>
            <option value="Европейский">Европейский</option>
            <option value="Русский">Русский</option>
        </select>
        <span asp-validation-for="Format" class="text-danger"></span>
    </div>

    <div class="form-group mb-3">
        <label asp-for="ReleaseYear" class="control-label"></label>
        <input asp-for="ReleaseYear" type="number" class="form-control" />
        <span asp-validation-for="ReleaseYear" class="text-danger"></span>
    </div>

    <div class="form-group mb-3">
        <label asp-for="AlternativeTitles" class="control-label"></label>
        <input asp-for="AlternativeTitles" class="form-control" />
        <span asp-validation-for="AlternativeTitles" class="text-danger"></span>
    </div>

    @* AuthorId and TranslatorId are set server-side based on the user's role or future UI enhancements *@

    <div class="form-group mt-3">
        <input type="submit" value="Сохранить" class="btn btn-success" />
        <a asp-controller="CatalogView" asp-action="Index" class="btn btn-secondary">Отмена</a>
    </div>
</form>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
